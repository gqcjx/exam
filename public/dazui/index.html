<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<title>大嘴鸟 · 字词学习版</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<!-- 启动动画容器 -->
	<div id="splashScreen" class="splash-screen">
		<canvas id="spiralCanvas"></canvas>
		<div class="splash-content">
			<h2 class="splash-title">大嘴鸟</h2>
			<p class="splash-subtitle">字词学习版</p>
		</div>
	</div>

	<div class="container">
		<header class="header">
			<h1><img src="kright.png" alt="大嘴鸟" class="header-icon"> <span class="fancy-title">大嘴鸟</span> · 字词学习版</h1>
		</header>

		<section class="game-wrap">
			<!-- 左侧统计信息（竖排） -->
			<div class="stats-left">
				<div class="stat"><span>分数</span><strong id="score">0</strong></div>
				<div class="stat"><span>等级</span><strong id="level">1</strong></div>
				<div class="stat"><span>速度</span><strong id="speed">慢</strong></div>
				<div class="stat"><span>正确</span><strong id="correct">0</strong></div>
				<div class="stat"><span>错误</span><strong id="wrong">0</strong></div>
				<div class="stat"><span>升级进度</span><strong id="progress">0/15</strong></div>
			</div>
			
			<!-- 右侧按钮（竖排，底部对齐到绿色地平线） -->
			<div class="buttons-right">
				<button id="zhixinBtn" class="btn zhixin hidden" title="知新">知新</button>
				<button id="startBtn" class="btn primary">开始</button>
				<button id="pauseBtn" class="btn" disabled>暂停</button>
				<button id="resetBtn" class="btn">重置</button>
				<button id="exitBtn" class="btn" title="退出游戏">退出</button>
				<button id="musicBtn" class="btn" title="音乐开关">🔊</button>
			</div>
			
			<canvas id="board" width="960" height="640"></canvas>
			<div id="overlay" class="overlay">
				<div class="panel">
					<h2 id="overlayTitle">点击开始</h2>
					<p id="overlayTip">点击字词，大嘴鸟飞去吞食：正确+1分，错误-1分；累计18分升1级，36分升2级，72分升3级（最高级）；3级解锁"知新"功能；每9个正确词必出1个错误词。</p>
					<div class="panel-buttons">
						<button class="btn primary" id="overlayStart">开始游戏</button>
					</div>
				</div>
			</div>
			<div id="toast" class="toast hidden"></div>
		</section>

	<footer class="footer">
		<div>
			<span>操作：点击字词进行"捕食" · P 暂停/继续 · R 重开</span>
			<span id="wordBankStatus" style="margin-left: 20px; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;"></span>
		</div>
		<div class="footer-buttons" id="wordBankButtons" style="display: none;">
			<button id="importBtn" class="btn-footer">📥 导入词库</button>
			<button id="clearBtn" class="btn-footer">🗑️ 清除词库</button>
		</div>
	</footer>
	</div>

	<!-- 导入词库对话框 -->
	<div id="importModal" class="modal hidden">
		<div class="modal-content">
			<div class="modal-header">
				<h2>📥 导入词库</h2>
				<button class="modal-close" id="closeModal">&times;</button>
			</div>
			<div class="modal-body">
				<textarea id="wordInput" placeholder="每行一个词，格式：&#10;朗润（正确词）&#10;郎润/朗润（干扰项/正确词）"></textarea>
				<div class="modal-options">
					<label>
						<input type="checkbox" id="autoDistractor">
						自动生成干扰项（错误率 <input type="number" id="errorRate" value="10" min="0" max="50" step="5">%）
					</label>
				</div>
			</div>
			<div class="modal-footer">
				<button class="btn" id="cancelBtn">取消</button>
				<button class="btn primary" id="confirmBtn">确认导入</button>
			</div>
		</div>
	</div>

	<!-- 背景音乐 -->
	<audio id="bgMusic" loop>
		<source src="guoliang.mp3" type="audio/mpeg">
		您的浏览器不支持音频播放。
	</audio>

	<script src="words_curated.js"></script>
	<script src="app.js"></script>
</body>
</html>
